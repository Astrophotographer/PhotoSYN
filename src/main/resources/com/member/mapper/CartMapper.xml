<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.member.mapper.CartMapper">

    <!-- 카트 추가 -->
    <insert id="addCart">
        insert into user_cart(u_id, g_no, m_imgLqly, m_imgHqly, w_reg)
        values (#{u_id}, #{g_no}, #{m_imgLqly}, #{m_imgHqly}, sysdate)
    </insert>

    <!-- 카트 삭제 -->
    <delete id="deleteCart">
        delete
        from user_cart
        where g_no = #{g_no}
    </delete>

    <!-- 카트 목록 -->
    <select id="getCart" resultType="com.member.domain.CartDTO">
        select a.u_id, a.g_no, a.m_imgQly, b.g_lname, b.hprice, b.lprice
        from user_cart a
                 left outer join gallery b on a.g_no = b.g_no
        where u_id = #{u_id}
    </select>

    <!-- 카트 확인 -->
    <select id="checkCart" resultType="com.member.domain.CartDTO">
        select *
        from user_cart
        where u_id = #{u_id}
          and g_no = #{g_no}
    </select>

</mapper>